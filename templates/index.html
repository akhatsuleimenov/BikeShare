<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bike</title>
    <link rel="stylesheet" href="../static/css/main.css" />
    <link rel="stylesheet" href="../static/css/responsive.css" />
    <link
      rel="shortcut icon"
      type="image/jpg"
      href="../../static/images/nyuad logo.png"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap"
      rel="stylesheet"
    />
    <script defer>
      function checkLoginStatus() {
          const cookies = document.cookie.split(';');
          const sessionCookie = cookies.find(cookie => cookie.trim().startsWith('session_id='));
          if (sessionCookie) {
              const sessionValue = sessionCookie.split('=')[1];
              updateNavigation(true);  // Assume user is logged in if session cookie exists
          } else {
              updateNavigation(false);  // Assume user is not logged in
          }
      }

          function updateNavigation(isLoggedIn) {
          const navList = document.getElementById('navList');
          const logoHTML = `<li class="header-content hp-viewport bike-header"><a href="#"><img class="logo" src="../static/images/nyuad logo.png"></a></li>`;

          const links = isLoggedIn ? [
              { href: 'index.html', title: 'Home' },
              { href: 'about.html', title: 'About' },
              { href: 'bike.html', title: 'Book a Bike' },
              { href: 'contact.html', title: 'Contact us' },
              { href: '../python/profile.py', title: 'My Profile', img: '../static/images/dummy.png' }  // Add an image for the profile link
          ] : [
              { href: 'index.html', title: 'Home' },
              { href: 'about.html', title: 'About' },
              { href: 'contact.html', title: 'Contact us' },
              { href: 'login.html', title: 'Sign In' },
              { href: 'registration.html', title: 'Register' }
          ];

          navList.innerHTML = logoHTML + links.map(link => {
              if (link.img) {
                  return `<li><a href="${link.href}"><img src="${link.img}" class="profile-img">${link.title}</a></li>`;
              } else {
                  return `<li><a href="${link.href}">${link.title}</a></li>`;
              }
          }).join('');
      }
      document.addEventListener('DOMContentLoaded', checkLoginStatus);

      </script>
  </head>

  <body>
    <header>
      <div class="header-wrapper">
        <span class="menu-logo hp-viewport fas fa-ellipsis-h"></span>
        <ul id="navList" class="header-list">
          <!-- Navigation items will be injected here based on login status -->
        </ul>
      </div>
    </header>

    <main>
      <div class="bgimg display-container">
        <div class="display-middle center">
          <span class="text-white" style="font-size: 100px"
            >NYUAD<br />Bikeshare</span
          >
        </div>
      </div>

      <div class="section-container">
        <!-- Booking Form Section -->
        <section id="booking-form" class="centered-section">
          <h2>Register or Log in to Book a Bike</h2>
        </section>

        <!-- Available Bikes Section -->
        <section id="available-bikes" class="centered-section">
          <h2>Available Bikes</h2>
          <div class="bike-container">
            <div class="bike-card">
              <img
                class="bike-image"
                src="../static/images/mountain bike.jpeg"
                alt="Mountain Bike"
              />
              <div class="bike-label">Mountain Bike</div>
            </div>
            <div class="bike-card">
              <img
                class="bike-image"
                src="../static/images/road bike.jpeg"
                alt="Road Bike"
              />
              <div class="bike-label">Road Bike</div>
            </div>
            <div class="bike-card">
              <img
                class="bike-image"
                src="../static/images/hybrid bike.jpeg"
                alt="Hybrid Bike"
              />
              <div class="bike-label">Hybrid Bike</div>
            </div>
          </div>
        </section>

        <!-- Testimonial Section -->
        <section id="testimonial" class="centered-section">
          <h2>Testimonials</h2>
          <ul class="testimonial-cards">
            <li class="testimonial-card">
              <img
                src="../static/images/test1.jpeg"
                alt="John Doe"
                class="testimonial-img"
              />
              <p>
                "Booking a bike through this system has made my campus commute
                so much easier. Highly recommended!"
              </p>
              <footer>- Alex</footer>
            </li>
            <li class="testimonial-card">
              <img
                src="../static/images/test2.jpeg"
                alt="Jane Smith"
                class="testimonial-img"
              />
              <p>
                "I love the convenience of being able to rent a bike on campus.
                It's a great way to get around!"
              </p>
              <footer>- Jane</footer>
            </li>
            <li class="testimonial-card">
              <img
                src="../static/images/test3.jpg"
                alt="Alex Doe"
                class="testimonial-img"
              />
              <p>
                "The bike booking system has been a game-changer for me. It's
                fast, efficient, and reliable!"
              </p>
              <footer>- Faiza</footer>
            </li>
          </ul>
        </section>

        <!-- Map Section -->
        <section id="map" class="centered-section">
          <h2>Map</h2>
          <iframe
            width="600"
            height="450"
            style="border: 0"
            loading="lazy"
            allowfullscreen
            src="https://www.openstreetmap.org/export/embed.html?bbox=54.4075,24.5013,54.4572,24.5492&layer=mapnik&marker=24.5253,54.4372"
          >
          </iframe>
        </section>
      </div>
    </main>
  </body>
</html>
